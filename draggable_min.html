<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ドラッグスクロール</title>
  <style>
    body {
      background-color: black
    }

    .drag_wrapper {
      position: relative;
      width: 100%;
      max-width: 1200px;
      height: 200px;
      overflow: hidden;
      border: solid 1px#fff
    }

    .drag_el {
      position: absolute;
      display: flex
    }

    .content_el {
      width: 500px;
      height: 500px;
      background: rgb(2, 0, 36);
      background: radial-gradient(rgba(2, 0, 36, 1)0%, rgba(9, 9, 121, 1)0%, rgba(0, 212, 255, 1)100%)
    }
  </style>
</head>

<body>
  <div class="drag_wrapper">
    <div class="drag_el">
      <div class="content_el"></div>
    </div>
  </div><button class="infini_btn">finite</button>
  <script>"use strict"; (function () { const _0x357134 = _0x2496; (function (_0x122a17, _0x5ffc35) { const _0x2b761b = _0x2496, _0x2c47f4 = _0x122a17(); while (!![]) { try { const _0x2c5465 = -parseInt(_0x2b761b(0x186)) / 0x1 * (parseInt(_0x2b761b(0x176)) / 0x2) + parseInt(_0x2b761b(0x17a)) / 0x3 * (parseInt(_0x2b761b(0x15f)) / 0x4) + parseInt(_0x2b761b(0x160)) / 0x5 + parseInt(_0x2b761b(0x164)) / 0x6 + parseInt(_0x2b761b(0x174)) / 0x7 * (parseInt(_0x2b761b(0x159)) / 0x8) + -parseInt(_0x2b761b(0x16f)) / 0x9 + -parseInt(_0x2b761b(0x182)) / 0xa * (parseInt(_0x2b761b(0x153)) / 0xb); if (_0x2c5465 === _0x5ffc35) break; else _0x2c47f4['push'](_0x2c47f4['shift']()) } catch (_0x446e18) { _0x2c47f4['push'](_0x2c47f4['shift']()) } } }(_0x2608, 0x2ea6a)); const infini_btn = document[_0x357134(0x158)]('.infini_btn'); infini_btn[_0x357134(0x168)]('click', infinite_switch, { 'passive': ![] }); function infinite_switch(_0x248ff8) { const _0x95034b = _0x357134; _0x248ff8[_0x95034b(0x18a)](), infinite = !infinite, infinite ? (infinite_clone(), infini_btn[_0x95034b(0x17d)] = _0x95034b(0x154)) : (finite_clone(), infini_btn[_0x95034b(0x17d)] = _0x95034b(0x181)) } const innerElement = document['querySelector'](_0x357134(0x157)); innerElement[_0x357134(0x18c)][_0x357134(0x188)] = 'grab'; let infinite = ![]; const inWidth = innerElement[_0x357134(0x169)]['offsetWidth']; function _0x2496(_0x49e28a, _0x5981d1) { const _0x260801 = _0x2608(); return _0x2496 = function (_0x2496b3, _0x1428a9) { _0x2496b3 = _0x2496b3 - 0x14f; let _0x51cdcb = _0x260801[_0x2496b3]; return _0x51cdcb }, _0x2496(_0x49e28a, _0x5981d1) } let dragRangeX = innerElement['parentNode'][_0x357134(0x16d)] - innerElement['offsetWidth'], dragRangeY = innerElement[_0x357134(0x171)]['clientHeight'] - innerElement[_0x357134(0x165)], mousedownX, mousedragX, mouseupX = 0x0, mousedownY, mousedragY, mouseupY = 0x0, setPositionX = 0x0, setPositionY = 0x0, start_time, end_time, event, anime_id, resizeTimer, dragTimer, _dragX, _dragY; const parRect = innerElement['parentElement'][_0x357134(0x173)](), parRect_left = parRect['left'] + 0x1, parRect_top = parRect[_0x357134(0x17c)] + 0x1; let elRect = innerElement[_0x357134(0x173)](), minX = dragRangeX, minY = dragRangeY; const maxX = 0x0, maxY = 0x0, touch_event = window[_0x357134(0x178)], touch_points = navigator[_0x357134(0x162)], touch_MSPointer = window[_0x357134(0x16c)][_0x357134(0x16b)]; let startDrag, moveDrag, endDrag = ''; touch_event !== undefined && 0x0 < touch_points || touch_MSPointer !== undefined || _0x357134(0x178) in window ? (startDrag = 'touchstart', moveDrag = _0x357134(0x15c), endDrag = _0x357134(0x151)) : (startDrag = 'mousedown', moveDrag = _0x357134(0x150), endDrag = 'mouseup'); innerElement[_0x357134(0x168)](startDrag, mousedown, { 'passive': ![] }); function mousedown(_0x453ca0) { const _0x4043a8 = _0x357134; _0x453ca0['preventDefault'](), startDrag === 'touchstart' ? (mousedownX = _0x453ca0['changedTouches'][0x0][_0x4043a8(0x166)], mousedownY = _0x453ca0[_0x4043a8(0x189)][0x0][_0x4043a8(0x17e)]) : (mousedownX = _0x453ca0[_0x4043a8(0x166)], mousedownY = _0x453ca0[_0x4043a8(0x17e)]), dragRangeX < 0x0 && (infinite && (innerElement['childElementCount'] <= 0x1 && infinite_clone(), innerElement[_0x4043a8(0x179)] >= 0x2 && (elRect = innerElement[_0x4043a8(0x173)](), setPositionX = elRect[_0x4043a8(0x17b)] - parRect_left, setPositionY = elRect[_0x4043a8(0x17c)] - parRect_top)), !infinite && (elRect = innerElement['getBoundingClientRect'](), setPositionX = elRect[_0x4043a8(0x17b)] - parRect_left, setPositionY = elRect[_0x4043a8(0x17c)] - parRect_top), event = 0x1, innerElement[_0x4043a8(0x18c)][_0x4043a8(0x188)] = _0x4043a8(0x18d), start_time = performance[_0x4043a8(0x15b)](), document['addEventListener'](moveDrag, moving, { 'passive': ![] }), document[_0x4043a8(0x168)](endDrag, uping, { 'passive': !![] }), drag_loop()) } function moving(_0x4a5897) { const _0x548c6a = _0x357134; _0x4a5897[_0x548c6a(0x18a)](), moveDrag === _0x548c6a(0x15c) ? (mousedragX = _0x4a5897[_0x548c6a(0x189)][0x0][_0x548c6a(0x166)], mousedragY = _0x4a5897[_0x548c6a(0x189)][0x0][_0x548c6a(0x17e)]) : (mousedragX = _0x4a5897['clientX'], mousedragY = _0x4a5897[_0x548c6a(0x17e)]), event = 0x2, dragTimer !== null && clearTimeout(dragTimer), dragTimer = setTimeout(() => { event === 0x2 && stop() }, 0x64) } function _0x2608() { const _0x112eba = ['min', 'ontouchstart', 'childElementCount', '42chLExh', 'left', 'top', 'textContent', 'clientY', 'px,\x200,\x200)', 'removeEventListener', 'finite', '110EslMkj', 'transform', 'translate3d(', 'resize', '8877aAcXGk', 'classList', 'cursor', 'changedTouches', 'preventDefault', 'lastElementChild', 'style', 'grabbing', 'px,\x200)', 'mousemove', 'touchend', 'px,\x20', '360162VZKOTu', 'infinite', 'insertBefore', 'cloneNode', '.drag_el', 'querySelector', '330808MPfqop', 'add', 'now', 'touchmove', 'abs', 'cloneItem', '80796KILEHz', '1609510BeuqtD', 'appendChild', 'maxTouchPoints', 'grab', '1034334UOUEVE', 'clientHeight', 'clientX', 'px,0,0)', 'addEventListener', 'firstElementChild', 'translate3d(0,\x200,\x200)', 'msPointerEnabled', 'navigator', 'offsetWidth', 'px,0)', '245520hRNghA', 'px,', 'parentNode', 'max', 'getBoundingClientRect', '28HUyOyi', 'removeChild', '82LJohAf']; _0x2608 = function () { return _0x112eba }; return _0x2608() } function drag_loop() { const _0x246e73 = _0x357134; elRect = innerElement[_0x246e73(0x173)](); let _0x364729 = mousedragX - mousedownX + setPositionX, _0x106397 = mousedragY - mousedownY + setPositionY; _0x364729 = Math['max'](minX, Math[_0x246e73(0x177)](maxX, _0x364729)), _0x106397 = Math[_0x246e73(0x172)](minY, Math[_0x246e73(0x177)](maxY, _0x106397)); infinite && event === 0x2 && (_0x364729 >= 0x0 && (_0x364729 = -inWidth + (mousedragX - mousedownX) + setPositionX, innerElement[_0x246e73(0x18c)]['transform'] = _0x246e73(0x184) + _0x364729 + _0x246e73(0x17f)), _0x364729 <= dragRangeX && (_0x364729 = inWidth + (mousedragX - mousedownX) + setPositionX, innerElement['style']['transform'] = 'translate3d(' + _0x364729 + _0x246e73(0x167)), _0x364729 <= 0x0 && _0x106397 <= 0x0 && (innerElement[_0x246e73(0x18c)][_0x246e73(0x183)] = _0x246e73(0x184) + _0x364729 + 'px,' + _0x106397 + 'px,0)')); !infinite && event === 0x2 && (_0x364729 <= 0x0 && _0x106397 <= 0x0 && (innerElement[_0x246e73(0x18c)][_0x246e73(0x183)] = 'translate3d(' + _0x364729 + _0x246e73(0x170) + _0x106397 + _0x246e73(0x16e))); if (event !== 0x0) { var _0x3816a6 = requestAnimationFrame(drag_loop); _0x3816a6 % 0xa === 0x0 && (_dragX = mousedragX, _dragY = mousedragY) } event === 0x0 && cancelAnimationFrame(_0x3816a6) } function clamp(_0x265824, _0x4fd5ab, _0x43c233) { const _0x3b04e7 = _0x357134; return Math[_0x3b04e7(0x172)](_0x4fd5ab, Math[_0x3b04e7(0x177)](_0x43c233, _0x265824)) } function stop() { const _0x27c306 = _0x357134; event = 0x1, setPositionX = elRect['left'] - parRect_left, setPositionY = elRect[_0x27c306(0x17c)] - parRect_top, mousedownX = mousedragX, mousedownY = mousedragY } function uping(_0x41889b) { const _0x5eb3f2 = _0x357134; endDrag === 'touchend' ? (mouseupX = _0x41889b[_0x5eb3f2(0x189)][0x0]['clientX'], mouseupY = _0x41889b[_0x5eb3f2(0x189)][0x0][_0x5eb3f2(0x17e)]) : (mouseupX = _0x41889b[_0x5eb3f2(0x166)], mouseupY = _0x41889b['clientY']); if (dragRangeX < 0x0) { end_time = performance[_0x5eb3f2(0x15b)](); const _0x25d85a = end_time - start_time, _0x36ca9b = mouseupX - _dragX, _0xf3bd9e = mouseupY - _dragY; innerElement['style']['cursor'] = _0x5eb3f2(0x163), document[_0x5eb3f2(0x180)](moveDrag, moving, { 'passive': ![] }), document['removeEventListener'](endDrag, uping, { 'passive': !![] }), event = 0x0, setPositionX = elRect[_0x5eb3f2(0x17b)] - parRect_left, setPositionY = elRect[_0x5eb3f2(0x17c)] - parRect_top, dragout(_0x41889b, _0x25d85a, _0x36ca9b, _0xf3bd9e) } } function dragout(_0xfc3e47, _0x486b83, _0x41045a, _0x4e6928) { const _0x36b312 = _0x357134; let _0x1bc796 = 0x0, _0x59c268 = 0x0; const _0x2a4b03 = setPositionX + _0x41045a, _0x12b89f = setPositionY + _0x4e6928; let _0x5a5986 = elRect[_0x36b312(0x17b)] - parRect_left, _0x4c48c0 = elRect[_0x36b312(0x17c)] - parRect_top, _0x13bc8e = Math[_0x36b312(0x15d)](_0x486b83), _0x3223f8 = Math['abs'](_0x41045a / _0x13bc8e), _0x479996 = Math[_0x36b312(0x15d)](_0x4e6928 / _0x13bc8e); const _0x42d31c = _0x2a4b03 - _0x5a5986, _0x4683d9 = _0x12b89f - _0x4c48c0; let _0x52a575 = 0x0, _0x59e64d = function (_0x2bde4f) { return _0x2bde4f * (0x2 - _0x2bde4f) }; function _0x4e56e() { const _0xf6233b = _0x36b312; _0x52a575++, _0x1bc796 = Math['round'](_0x5a5986 + _0x42d31c * _0x59e64d(_0x52a575 / 0x64)), _0x59c268 = _0x4c48c0 + _0x4683d9 * _0x59e64d(_0x52a575 / 0x64), infinite && (_0x1bc796 >= 0x0 && (innerElement[_0xf6233b(0x18c)][_0xf6233b(0x183)] = 'translate3d(' + -inWidth + 'px,\x200,\x200)', _0x5a5986 += -inWidth), _0x1bc796 <= dragRangeX && (innerElement[_0xf6233b(0x18c)][_0xf6233b(0x183)] = _0xf6233b(0x184) + inWidth + _0xf6233b(0x17f), _0x5a5986 += inWidth), _0x59c268 = Math[_0xf6233b(0x172)](minY, Math[_0xf6233b(0x177)](maxY, _0x59c268)), innerElement[_0xf6233b(0x18c)][_0xf6233b(0x183)] = 'translate3d(' + _0x1bc796 + _0xf6233b(0x152) + _0x59c268 + _0xf6233b(0x14f)), !infinite && (_0x1bc796 = Math[_0xf6233b(0x172)](minX, Math[_0xf6233b(0x177)](maxX, _0x1bc796)), _0x59c268 = Math['max'](minY, Math[_0xf6233b(0x177)](maxY, _0x59c268)), innerElement[_0xf6233b(0x18c)][_0xf6233b(0x183)] = _0xf6233b(0x184) + _0x1bc796 + 'px,\x20' + _0x59c268 + _0xf6233b(0x14f)), event === 0x0 && (anime_id = requestAnimationFrame(_0x4e56e)), (event === 0x1 || _0x52a575 >= 0x64) && cancelAnimationFrame(anime_id) } _0x4e56e() } function infinite_clone() { const _0x5abefc = _0x357134, _0x1748a8 = innerElement[_0x5abefc(0x169)], _0x2debea = _0x1748a8[_0x5abefc(0x156)](_0x1748a8), _0x185088 = _0x1748a8[_0x5abefc(0x156)](_0x1748a8); _0x2debea[_0x5abefc(0x187)][_0x5abefc(0x15a)](_0x5abefc(0x15e)), innerElement[_0x5abefc(0x155)](_0x2debea, innerElement[_0x5abefc(0x169)]), innerElement[_0x5abefc(0x161)](_0x185088), dragRangeX = innerElement[_0x5abefc(0x171)][_0x5abefc(0x16d)] - innerElement[_0x5abefc(0x16d)], minX = dragRangeX } function finite_clone() { const _0x500ec3 = _0x357134; innerElement[_0x500ec3(0x179)] > 0x1 && (cancelAnimationFrame(anime_id), event = 0x1, innerElement['removeChild'](innerElement[_0x500ec3(0x169)]), innerElement['removeChild'](innerElement[_0x500ec3(0x18b)]), innerElement['style'][_0x500ec3(0x183)] = _0x500ec3(0x16a), minX = dragRangeX = innerElement[_0x500ec3(0x171)]['offsetWidth'] - innerElement[_0x500ec3(0x16d)], minY = dragRangeY = innerElement[_0x500ec3(0x171)][_0x500ec3(0x165)] - innerElement[_0x500ec3(0x165)]) } window[_0x357134(0x168)](_0x357134(0x185), resizeWindow, { 'passive': ![] }); function resizeWindow(_0x4aa4f6) { resizeTimer !== null && clearTimeout(resizeTimer), resizeTimer = setTimeout(() => { const _0x20fe18 = _0x2496; event = 0x1, cancelAnimationFrame(anime_id); innerElement['parentNode'][_0x20fe18(0x16d)] > inWidth && innerElement[_0x20fe18(0x179)] > 0x1 && (innerElement[_0x20fe18(0x175)](innerElement['firstElementChild']), innerElement[_0x20fe18(0x175)](innerElement[_0x20fe18(0x18b)])); minX = dragRangeX = innerElement[_0x20fe18(0x171)][_0x20fe18(0x16d)] - innerElement['offsetWidth'], minY = dragRangeY = innerElement[_0x20fe18(0x171)][_0x20fe18(0x165)] - innerElement[_0x20fe18(0x165)], innerElement[_0x20fe18(0x18c)][_0x20fe18(0x183)] = _0x20fe18(0x16a); let _0x1c94a7 = Math[_0x20fe18(0x172)](minX, Math['min'](maxX, setPositionX)), _0x3f7e1d = Math[_0x20fe18(0x172)](minY, Math[_0x20fe18(0x177)](maxY, setPositionY)); if (_0x1c94a7 <= 0x0 && _0x3f7e1d <= 0x0) innerElement['style']['transform'] = _0x20fe18(0x184) + _0x1c94a7 + 'px,\x20' + _0x3f7e1d + _0x20fe18(0x14f) }, 0x32) } })()</script>
</body>

</html>