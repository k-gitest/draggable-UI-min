<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ドラッグスクロール</title>
  <style>
    body {
      background-color: black
    }

    .drag_wrapper {
      position: relative;
      width: 100%;
      height: 200px;
      overflow: hidden;
      border: solid 1px#fff
    }

    .drag_el {
      position: absolute;
      display: flex
    }

    .content_el {
      width: 500px;
      height: 500px;
      background: rgb(2, 0, 36);
      background: radial-gradient(rgba(2, 0, 36, 1)0%, rgba(9, 9, 121, 1)0%, rgba(0, 212, 255, 1)100%)
    }
  </style>
</head>

<body>
  <div class="drag_wrapper">
    <div class="drag_el">
      <div class="content_el"></div>
    </div>
  </div><button class="infini_btn">finite</button>
  <script>"use strict"; (function () { const _0x527bb8 = p; function o() { const _0x302969 = ['add', 'ontouchstart', '9ffrDyp', 'infinite', 'childElementCount', 'grab', 'changedTouches', 'left', 'px,0)', '36fotInE', 'click', 'clientX', 'clientHeight', '5795944AQsgmI', 'cloneItem', 'finite', 'maxWidth', 'px,', 'firstElementChild', 'parentElement', '2552683SwBnVZ', 'translate3d(', 'now', '8KWUGts', 'removeChild', 'max', 'px,\x20', 'cloneNode', '349805jLYGBl', 'textContent', 'preventDefault', '413898PTYAas', 'translate3d(0,\x200,\x200)', 'mousemove', 'lastElementChild', 'cursor', 'top', 'style', '.drag_el', 'px,\x200,\x200)', 'clientY', 'touchmove', 'querySelector', 'touchstart', '11066JXpwKt', 'min', 'appendChild', 'maxTouchPoints', 'parentNode', 'classList', 'transform', 'insertBefore', 'addEventListener', '.infini_btn', 'offsetWidth', 'touchend', '860804hRasUG', 'navigator', '7051450cfTHab', 'mouseup', '8JgdmWN', 'round', 'grabbing', 'getBoundingClientRect', '78UshvaC', 'removeEventListener', 'px,\x200)']; o = function () { return _0x302969 }; return o() } (function (b, a) { const _0x1180c3 = p, _0x1cdbd4 = b(); while (!![]) { try { const _0x3b5425 = -parseInt(_0x1180c3(0x179)) / 0x1 + -parseInt(_0x1180c3(0x16d)) / 0x2 * (parseInt(_0x1180c3(0x181)) / 0x3) + -parseInt(_0x1180c3(0x158)) / 0x4 * (-parseInt(_0x1180c3(0x15d)) / 0x5) + parseInt(_0x1180c3(0x160)) / 0x6 + parseInt(_0x1180c3(0x155)) / 0x7 * (parseInt(_0x1180c3(0x17d)) / 0x8) + parseInt(_0x1180c3(0x186)) / 0x9 * (-parseInt(_0x1180c3(0x17b)) / 0xa) + -parseInt(_0x1180c3(0x14e)) / 0xb * (-parseInt(_0x1180c3(0x18d)) / 0xc); if (_0x3b5425 === a) break; else _0x1cdbd4['push'](_0x1cdbd4['shift']()) } catch (_0x1cac94) { _0x1cdbd4['push'](_0x1cdbd4['shift']()) } } }(o, 0x6c83f)); const infini_btn = document[_0x527bb8(0x16b)](_0x527bb8(0x176)); infini_btn['addEventListener'](_0x527bb8(0x18e), b2, { 'passive': ![] }); function b2(a) { const _0x1dca77 = _0x527bb8; a[_0x1dca77(0x15f)](), infinite = !infinite, infinite ? (b1(), infini_btn[_0x1dca77(0x15e)] = _0x1dca77(0x187)) : (b0(), infini_btn[_0x1dca77(0x15e)] = _0x1dca77(0x150)) } const innerElement = document['querySelector'](_0x527bb8(0x167)); innerElement['style'][_0x527bb8(0x164)] = _0x527bb8(0x189); let infinite = ![]; const inWidth = innerElement[_0x527bb8(0x153)][_0x527bb8(0x177)]; innerElement[_0x527bb8(0x171)][_0x527bb8(0x166)][_0x527bb8(0x151)] = inWidth + 'px'; function p(l, k) { const _0x3687b8 = o(); return p = function (b, a) { b = b - 0x14d; let _0x1b01be = _0x3687b8[b]; return _0x1b01be }, p(l, k) } let dragRangeX = innerElement['parentNode'][_0x527bb8(0x177)] - innerElement['offsetWidth'], dragRangeY = innerElement['parentNode']['clientHeight'] - innerElement['clientHeight'], mousedownX, mousedragX, mouseupX = 0x0, mousedownY, mousedragY, mouseupY = 0x0, setPositionX = 0x0, setPositionY = 0x0, start_time, end_time, event, anime_id, resizeTimer, dragTimer, _dragX, _dragY; const parRect = innerElement[_0x527bb8(0x154)]['getBoundingClientRect'](), parRect_left = parRect['left'] + 0x1, parRect_top = parRect[_0x527bb8(0x165)] + 0x1; let elRect = innerElement[_0x527bb8(0x180)](), minX = dragRangeX, minY = dragRangeY; const maxX = 0x0, maxY = 0x0, touch_event = window[_0x527bb8(0x185)], touch_points = navigator[_0x527bb8(0x170)], touch_MSPointer = window[_0x527bb8(0x17a)]['msPointerEnabled']; let startDrag, moveDrag, endDrag = ''; touch_event !== undefined && 0x0 < touch_points || touch_MSPointer !== undefined || _0x527bb8(0x185) in window ? (startDrag = _0x527bb8(0x16c), moveDrag = 'touchmove', endDrag = 'touchend') : (startDrag = 'mousedown', moveDrag = _0x527bb8(0x162), endDrag = _0x527bb8(0x17c)); innerElement['addEventListener'](startDrag, b3, { 'passive': ![] }); function b3(a) { const _0x4d03eb = _0x527bb8; a[_0x4d03eb(0x15f)](), startDrag === _0x4d03eb(0x16c) ? (mousedownX = a[_0x4d03eb(0x18a)][0x0][_0x4d03eb(0x18f)], mousedownY = a[_0x4d03eb(0x18a)][0x0]['clientY']) : (mousedownX = a[_0x4d03eb(0x18f)], mousedownY = a[_0x4d03eb(0x169)]), dragRangeX < 0x0 && (infinite && (innerElement[_0x4d03eb(0x188)] <= 0x1 && b1()), elRect = innerElement['getBoundingClientRect'](), setPositionX = elRect['left'] - parRect_left, setPositionY = elRect[_0x4d03eb(0x165)] - parRect_top, event = 0x1, innerElement[_0x4d03eb(0x166)][_0x4d03eb(0x164)] = _0x4d03eb(0x17f), start_time = performance[_0x4d03eb(0x157)](), document[_0x4d03eb(0x175)](moveDrag, b4, { 'passive': ![] }), document[_0x4d03eb(0x175)](endDrag, b7, { 'passive': !![] }), q()) } function b4(a) { const _0x5008c7 = _0x527bb8; a[_0x5008c7(0x15f)](), moveDrag === _0x5008c7(0x16a) ? (mousedragX = a[_0x5008c7(0x18a)][0x0]['clientX'], mousedragY = a[_0x5008c7(0x18a)][0x0]['clientY']) : (mousedragX = a[_0x5008c7(0x18f)], mousedragY = a[_0x5008c7(0x169)]), event = 0x2, dragTimer !== null && clearTimeout(dragTimer), dragTimer = setTimeout(() => { event === 0x2 && b6() }, 0x64) } function q() { const _0x4c5988 = _0x527bb8; elRect = innerElement['getBoundingClientRect'](); let _0x56c452 = mousedragX - mousedownX + setPositionX, _0x294f4b = mousedragY - mousedownY + setPositionY; _0x56c452 = Math[_0x4c5988(0x15a)](minX, Math[_0x4c5988(0x16e)](maxX, _0x56c452)), _0x294f4b = Math[_0x4c5988(0x15a)](minY, Math[_0x4c5988(0x16e)](maxY, _0x294f4b)); infinite && event === 0x2 && (_0x56c452 >= 0x0 && (_0x56c452 = -inWidth + (mousedragX - mousedownX) + setPositionX, innerElement[_0x4c5988(0x166)]['transform'] = _0x4c5988(0x156) + _0x56c452 + _0x4c5988(0x168)), _0x56c452 <= dragRangeX && (_0x56c452 = inWidth + (mousedragX - mousedownX) + setPositionX, innerElement[_0x4c5988(0x166)][_0x4c5988(0x173)] = _0x4c5988(0x156) + _0x56c452 + 'px,0,0)'), _0x56c452 <= 0x0 && _0x294f4b <= 0x0 && (innerElement[_0x4c5988(0x166)][_0x4c5988(0x173)] = _0x4c5988(0x156) + _0x56c452 + 'px,' + _0x294f4b + _0x4c5988(0x18c))); !infinite && event === 0x2 && (_0x56c452 <= 0x0 && _0x294f4b <= 0x0 && (innerElement[_0x4c5988(0x166)][_0x4c5988(0x173)] = _0x4c5988(0x156) + _0x56c452 + _0x4c5988(0x152) + _0x294f4b + 'px,0)')); if (event !== 0x0) { var a = requestAnimationFrame(q); a % 0xa === 0x0 && (_dragX = mousedragX, _dragY = mousedragY) } event === 0x0 && cancelAnimationFrame(a) } function b6() { const _0x56d215 = _0x527bb8; event = 0x1, setPositionX = elRect[_0x56d215(0x18b)] - parRect_left, setPositionY = elRect['top'] - parRect_top, mousedownX = mousedragX, mousedownY = mousedragY } function b7(a) { const _0x46c9b3 = _0x527bb8; endDrag === _0x46c9b3(0x178) ? (mouseupX = a[_0x46c9b3(0x18a)][0x0][_0x46c9b3(0x18f)], mouseupY = a[_0x46c9b3(0x18a)][0x0][_0x46c9b3(0x169)]) : (mouseupX = a[_0x46c9b3(0x18f)], mouseupY = a[_0x46c9b3(0x169)]); if (dragRangeX < 0x0) { end_time = performance['now'](); const _0x5af186 = end_time - start_time; let _0x4b8788, _0x3dea8f = 0x0; const _0x2d3eac = mouseupX - mousedownX, _0x4cb30f = mouseupY - mousedownY; _0x2d3eac && _0x4cb30f && (_0x4b8788 = mouseupX - _dragX, _0x3dea8f = mouseupY - _dragY), innerElement[_0x46c9b3(0x166)][_0x46c9b3(0x164)] = 'grab', document[_0x46c9b3(0x182)](moveDrag, b4, { 'passive': ![] }), document[_0x46c9b3(0x182)](endDrag, b7, { 'passive': !![] }), event = 0x0, setPositionX = elRect[_0x46c9b3(0x18b)] - parRect_left, setPositionY = elRect[_0x46c9b3(0x165)] - parRect_top, r(a, _0x5af186, _0x4b8788, _0x3dea8f) } } function r(m, k, n, l) { const _0x26f619 = _0x527bb8; let _0x39ddac = 0x0, _0x52acc4 = 0x0; const _0x5db1f2 = setPositionX + n, _0x44e6d5 = setPositionY + l; let _0x6bdee0 = elRect[_0x26f619(0x18b)] - parRect_left, _0x46c4e1 = elRect['top'] - parRect_top; const _0x24005a = _0x5db1f2 - _0x6bdee0, _0x5ee7dc = _0x44e6d5 - _0x46c4e1; let _0x12400a = 0x0, _0x144d9d = function (a) { return a * (0x2 - a) }; function b() { const _0x39446b = _0x26f619; _0x12400a++, _0x39ddac = Math[_0x39446b(0x17e)](_0x6bdee0 + _0x24005a * _0x144d9d(_0x12400a / 0x64)), _0x52acc4 = _0x46c4e1 + _0x5ee7dc * _0x144d9d(_0x12400a / 0x64), infinite && (_0x39ddac >= 0x0 && (innerElement[_0x39446b(0x166)][_0x39446b(0x173)] = _0x39446b(0x156) + -inWidth + _0x39446b(0x168), _0x6bdee0 += -inWidth), _0x39ddac <= dragRangeX && (innerElement[_0x39446b(0x166)][_0x39446b(0x173)] = 'translate3d(' + inWidth + 'px,\x200,\x200)', _0x6bdee0 += inWidth), _0x52acc4 = Math[_0x39446b(0x15a)](minY, Math[_0x39446b(0x16e)](maxY, _0x52acc4)), innerElement['style'][_0x39446b(0x173)] = 'translate3d(' + _0x39ddac + _0x39446b(0x15b) + _0x52acc4 + _0x39446b(0x183)), !infinite && (_0x39ddac = Math[_0x39446b(0x15a)](minX, Math[_0x39446b(0x16e)](maxX, _0x39ddac)), _0x52acc4 = Math[_0x39446b(0x15a)](minY, Math['min'](maxY, _0x52acc4)), innerElement[_0x39446b(0x166)][_0x39446b(0x173)] = 'translate3d(' + _0x39ddac + 'px,\x20' + _0x52acc4 + _0x39446b(0x183)), event === 0x0 && (anime_id = requestAnimationFrame(b)), (event === 0x1 || _0x12400a >= 0x64) && cancelAnimationFrame(anime_id) } b() } function b1() { const _0x2cce4f = _0x527bb8, _0x26c567 = innerElement[_0x2cce4f(0x153)], _0x355fc1 = _0x26c567[_0x2cce4f(0x15c)](_0x26c567), _0x268f97 = _0x26c567[_0x2cce4f(0x15c)](_0x26c567); _0x355fc1[_0x2cce4f(0x172)][_0x2cce4f(0x184)](_0x2cce4f(0x14f)), innerElement[_0x2cce4f(0x174)](_0x355fc1, innerElement[_0x2cce4f(0x153)]), innerElement[_0x2cce4f(0x16f)](_0x268f97), minX = dragRangeX = innerElement[_0x2cce4f(0x171)]['offsetWidth'] - innerElement['offsetWidth'] } function b0() { const _0x10d525 = _0x527bb8; innerElement[_0x10d525(0x188)] > 0x1 && (cancelAnimationFrame(anime_id), event = 0x1, innerElement[_0x10d525(0x159)](innerElement[_0x10d525(0x153)]), innerElement[_0x10d525(0x159)](innerElement[_0x10d525(0x163)]), innerElement[_0x10d525(0x166)][_0x10d525(0x173)] = _0x10d525(0x161), minX = dragRangeX = innerElement[_0x10d525(0x171)][_0x10d525(0x177)] - innerElement['offsetWidth'], minY = dragRangeY = innerElement['parentNode'][_0x10d525(0x14d)] - innerElement[_0x10d525(0x14d)]) } window[_0x527bb8(0x175)]('resize', b5, { 'passive': ![] }); function b5(a) { resizeTimer !== null && clearTimeout(resizeTimer), resizeTimer = setTimeout(() => { const _0x8ff330 = p; event = 0x1, cancelAnimationFrame(anime_id); innerElement['parentNode'][_0x8ff330(0x177)] > inWidth && innerElement[_0x8ff330(0x188)] > 0x1 && (innerElement[_0x8ff330(0x159)](innerElement['firstElementChild']), innerElement['removeChild'](innerElement['lastElementChild'])); minX = dragRangeX = innerElement[_0x8ff330(0x171)]['offsetWidth'] - innerElement[_0x8ff330(0x177)], minY = dragRangeY = innerElement[_0x8ff330(0x171)][_0x8ff330(0x14d)] - innerElement['clientHeight'], innerElement[_0x8ff330(0x166)][_0x8ff330(0x173)] = 'translate3d(0,\x200,\x200)'; let _0x5b9528 = Math[_0x8ff330(0x15a)](minX, Math[_0x8ff330(0x16e)](maxX, setPositionX)), _0x33d3b9 = Math[_0x8ff330(0x15a)](minY, Math['min'](maxY, setPositionY)); if (_0x5b9528 <= 0x0 && _0x33d3b9 <= 0x0) innerElement[_0x8ff330(0x166)]['transform'] = _0x8ff330(0x156) + _0x5b9528 + _0x8ff330(0x15b) + _0x33d3b9 + 'px,\x200)' }, 0x32) } })()</script>
</body>

</html>